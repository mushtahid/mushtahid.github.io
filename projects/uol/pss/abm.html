<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Agent-Based Model - Projects | Mushtahid's Github Website!</title>
<meta name="keywords" content="Md, Mushtahid, Salam, agent based model, agent-based model, agent based modelling, agent-based modelling, abm, sheep and wolves, sheep and wolf abm">
<meta name="description" content="Sheep and Wolves Agent-Based Model. Watch as a herd of sheep try to survive a pack of wolves! Created as part of the PhD under the CDAS, University of Leeds.">
<meta name="author" content="Md Mushtahid Salam" />
<meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86">

<link rel="stylesheet" href="/style/style.css"><!-- Stylesheet -->
<script src="https://kit.fontawesome.com/8a5abe923d.js" crossorigin="anonymous"></script><!-- Get fontawesome icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon"/><!-- Favicon -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8LXVHQP6BB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8LXVHQP6BB');
</script>
</head>
<body>
<div id="container">
	<header id="head_content">
		<h1>Agent-Based Model</h1>
		<p><i aria-hidden="true" class="fas fa-map-marker-alt"></i> 
		<a href="/projects.html">Projects</a> > Agent-Based Model</p>
		
		<nav id="menu">
		   <a href="/index.html"><i aria-hidden="true" class="fas fa-home"></i> Home</a> | 
		   <a href="/projects.html"><i aria-hidden="true" class="fab fa-python"></i> Projects</a> |
		   <a href="#"><i aria-hidden="true" class="fas fa-id-card"></i> CV</a> |
		   <a href="#"><i aria-hidden="true" class="fas fa-envelope"></i> Contact</a>
		</nav>	
	</header>
	
	<main id="body_content">
		<article>
			<h2>
			A What is an Agent-Based Model?
			</h2>		
			<p>
			Traditionally, we have been collecting individual level
			date to generate summary statistic and carry out inferential analysis. This is undoubtedly of 
			immense importance as it allows us to predict not only population but also
			individual level behaviour (provided raw data has been collected at an individual
			level). However, the individual level measures we obtain are based on the 
			summary statistic and may not* represent how a particular individual may act.			
			It might be helpful to think of this as a low-resolution image
			where you can get a sense of the overall picture but not the fine details.
			</p>
			<p>
			Agent-Based Models (ABM) on the other hand, allows us to keep track of an individual as 
			an individual! Thus, it allows us to analyse the risks/behaviours of an individual
			more accurately and thus generate a better individual and population level model. You
			can think of this as a high-resolution image where you can see the finer details!
			You can <a title="Learn more about ABM" target="_blank" href="https://www.geog.leeds.ac.uk/courses/computing/practicals/python/agent-framework/part1/index.html">
			learn more about ABM from the course page <i aria-hidden="true" class="fas fa-external-link-alt"></i></a>.
			</p>
			<p>
			* <em>I am not in any way suggesting that individual level measures such as relative risk/odds ratio
			obtained from traditional research methods are not "good enough"! Such methods have a proven track record 
			and in any case, do not need any "approval" from me! Disagree with the statements? <a href="mailto:mushtahid@gmail.com">Let me know!</a></em>
			</p>
		</article>
		
		<article>
			<h2>B The Sheep and Wolves ABM!</h2>
			
			<p>This is a simple ABM model containing a herd of sheep and a pack of wolves! This project 
			was undertaken as part of the Programming for Social Science course of my MSc/PhD at the 
			University of Leeds between September and October 2020. The main idea behind this project was to 
			introduce student to programming by creating a model where agents 
			(representing the animals) can interact with each other and the environment in which they are in.
			</p>
			<aside>
			<p>
			Just as a side note, this website was also created as part of this project. I am an 
			amateur web designer and have been playing intermittently with HTML and CSS (and to a small extent with JavaScript) ever since
			I first came across <a rel="nofollow" target="_blank" href="https://en.wikipedia.org/wiki/Yahoo!_GeoCities">
			Yahoo! GeoCities <i aria-hidden="true" class="fas fa-external-link-alt"></i></a>, 
			<a rel="nofollow" target="_blank" href="https://en.wikipedia.org/wiki/Tripod_(web_hosting)">Tripod <i aria-hidden="true" class="fas fa-external-link-alt"></i></a>,
			and <a rel="nofollow" target="_blank" href="https://en.wikipedia.org/wiki/Microsoft_FrontPage">Microsoft FronPage 
			<i aria-hidden="true" class="fas fa-external-link-alt"></i></a> in the early 2000s. 
			It has been long since the main GeoCities was shut down but if you are interested to find out what 
			the internet looked like in those days, you can still visit 
			<a rel="nofollow" target="_blank" href="http://www.oocities.org/">OoCities.org <i aria-hidden="true" class="fas fa-external-link-alt"></i></a> 
			which archived some of the webpages hosted by GeoCities.
			</p>
			</aside>
				<section>
					<h3>B.1 What programming language/software was used to build this?</h3>
					<p>This was coded in Python 3 using Spyder. Extensive use of f-string is applied, and 
					thus python 3.6+ is a requirement.
					</p>
				</section>
			
				<section>
					<h3>B.2 Where can I access the model?</h3>
					Please visit my <a target="_blank" href="https://github.com/mushtahid/GEOG5995-Practicals">ABM GitHub repository 
					<i aria-hidden="true" class="fas fa-external-link-alt"></i></a>. 
				</section>
			
			<section>
				<h3>B.3 Core components of the ABM</h3>
				<p>The basic components of the ABM are the:</p>
				<ul>
				<li>Environment: Essentially a 300x300 Euclidean plane.</li>
				<li>Animals
					<ul>
					<li>Sheep</li>
					<li>Wolves</li>
					</ul>
				</li>
				</ul>
					
					<section>
					<h4>B.3.1 The Environment
						</h4>
						<p>The environment is a 2D map that is generated from reading the raster data from 
						<a rel="nofollow" href="https://github.com/mushtahid/GEOG5995-Practicals/blob/master/in.txt">in.txt</a>. The environment 
						will change its colour as its data gets altered by the animals (see Fig 3), for example the sheep eating grass from the environment 
						or wolves eating 4/5 of the sheep (store) and 1/5 (sheep store) getting deposited in the environment. This is explained in the 
						sections below.
						<figure>
						<img src="images/the_environment.png" alt="The Environment" title="The Environment">
						<figcaption>Fig 1: The Environment</figcaption>
						</figure>
					</section>
				
					<section>
						<h4>B.3.2 Animals</h4>
						<p>
						Animals consist of sheep and wolves. The animals have access to each other's location
						in the environment and know how far apart they are by calculating the Euclidean distance
						using their Cartesian coordinates (x,y) in the 2D environment via the Pythagorean theorem.</p>
						
						<p>They also have a store value which represents either their energy level
						or food stores/resources depending on the context. Their initial store values are randomly
						assigned. Whether the store represents food resources or energy is explained in the sections
						below.</p>
						<p>
						The animals can move around the environment, identify
						the closest animal if one is found within a certain minimum distance, get close to it
						and interact with it if they are within a certain action distance. 
						The interaction can be an attempt to breed (either successful or failed),
						share resources with each other (for sheep), fight with each other (for wolves).
						</p>
						<p>
						During movements, boundary conditions are set up as such that the animals do not go
						beyond the 300x300 limits of the environment. If the animals are not trying to run
						towards (or exclusively for the sheep, away from the wolves), the speed of the normal 
						movement is based on their current store value and random probability. During normal movement, a 
						certain amount of store value is deducted as energy lost during movement.</p>
						
						<p>If the animals of the same species are within a certain action distance, and if both of them have
						a certain energy level, they will attempt to breed. Whether breeding will be successful or not
						depends on random probability. However, a breeding attempt will cost both animals energy, 
						which is half of the average of both animals.</p>
						
						<figure>
						<img src="images/the_animals.gif" alt="The Animals (White = Sheep, Black = Wolves)" title="The Animals" />
						<figcaption>Fig 2: The Animals (White = Sheep, Black = Wolves).</figcaption>
						</figure>
						
							<section>
							<h5>B.3.2.1 The Sheep</h5>
							<p>A. The first action of a sheep is to check if any wolves are nearby within
							a certain minimum distance. This minimum distance can be thought of as the range of 
							vision of the sheep. This is set up by default as half of the range of vision of 
							the wolves (as the wolves are predators they should have a higher range of vision).
							If a sheep finds one or more  close wolves within its proximity (minimum distance), 
							it runs away from the closest one. While running away, it does not eat any grass from the environment.</p>
							
							<p>B. If no close wolf is found, it looks for the closest sheep provided that it has a certain 
							minimum store value. If it finds one or more close sheep within its proximity, it moves towards the closest one and 
							this time it eats while moving. This enables a herd like behaviour. If no close sheep is found, it moves randomly 
							and eats grass from the environment. 
							</p>
							
							<p>If a sheep finds the closest wolf and runs towards it and manages to get it within action distance, 
							interaction takes place.
							Interaction for sheep can be an attempt at breeding or sharing resources. Both sheep will undertake
							an attempt at breeding provided that the second sheep also has a certain minimum energy (store value). 
							The breeding success will depend on probability as mentioned earlier.</p>
							
							<p>If, however, the closest sheep does not have enough energy, both sheep share their food resources (store),
							and their store values become average. This is because their main aim is survival!</p>
							
							<p>C. If the current sheep does not have the required minimum energy to look for other sheep, it moves 
							randomly and eats.</p>
							
							<p>The sheep get their initial x and y coordinates <a href="http://bit.ly/GeogLeedsAFData">
							from this html file</a>. This spawns them in a 100x100 grid. Although their initial location
							could be more spread out by multiplying those values with 3, it was not done so as the sheep
							likes to stay in a herd!</p>
							</section>
						
							<section>
							<h5>B.3.2.2 The Wolves</h5>
							<p>The wolves are spawned into the environment by assigning random values to their x and y 
							coordinates.</p>
							
							<p>The wolves' actions depend on their store value or a combination of their store value 
							and random probability.</p>
							
							<p>A. If a wolf has energy less than a certain minimum store value or if it has more than the 
							minimum store value and probability is between the default setup of 0.25 and 0.50, it 
							looks for food (sheep) within a certain minimum distance (proximity). If one or more sheep are found within
							the proximity, it runs towards the closest one and once the sheep is within a certain action distance, 
							it eats the sheep. If no close sheep is found, it moves normally.
							
							<p>The condition - if it has more than the minimum store value and probability is between the default 
							setup of 0.25 and 0.50 - is set up because otherwise it was observed that the wolves were not chasing or interacting with
							the sheep even if one or more sheep were within proximity or action distance until their energy levels dropped below minimum energy 
							via normal movement. Enabling this condition seems to have done two things:</p>
							<ol>
							<li>The wolves now also eat the sheep if they have more than minimum energy and probability conditions are 
							right! This was intentional.</li>
							<li>The wolves also seem to behave like a pack (Fig 3) where one wolf which has eaten seems to (sometimes)
							chase the sheep towards other wolves. This, however, admittedly was not an intentional setup and is completely
							based on random probability of another wolf being present in the line of direction of the sheep being chased!</li>
							</ol>
							<figure>
							<img src="images/pack_behaviour.gif" alt="Pack behaviour by the wolves?" title="Pack behaviour by the wolves?" />
							<figcaption>Fig 3: Pack Behaviour?</figcaption>
							</figure>
							
							<p>B. If, however, a wolf has more than the minimum energy and random value is above a certain probability,
							it looks for other wolves within proximity. If one more wolves are found within proximity, it moves closer to the
							closest one.<p>

							<p>Once the closest wolf is within action distance, the current sheep interacts with it. The interaction can be an attempt at 
							breeding or fight. The wolves will attempt to breed if the closest wolf also has energy more than the minimum energy. 
							Just like the sheep, the success/failure of the breeding attempt is probability based. Similarly, the breeding cost is applied</p>
							<p>
							If the closest wolf's energy is below the minimum energy, they will fight, and the 
							winner depends on probability. The default setup is such that if the random value is > probability value, the current wolf will 
							win half of the store of the closest wolf and vice versa! If on the other hand, no close wolf is found, the wolf will
							move normally.</p>
							
							<p>C. If none of the initial conditions of A or B is met, the wolf will move normally.
							</p>
							</section>
					</section>
					
			</section>
			
			<section>
				<h3>B.4 Additional features of the ABM model</h3>
				<p>The model will save the environment data once it has been run to another text file. The way it's set up 
				currently will overwrite the previous output.</p>
				<p>It will also save the total store value of the sheep and wolves in separate text files and will add the
				values of subsequent runs of the model instead of overwriting previous values.</p>
				
			</section>
			
			<section>
				<h3>B.5 How to run the Model</h3>
				<p>The model can be run from the command prompt by the code <code>python final_model.py</code>.</p>
				
				<p>The prompt will then ask you if you want to modify certain variables. There are 11 modifiable variables
				that you can alter. A description of what each variable does will be provided. If you want to modify the variables,
				input 'y' (lowercase and without ' '). You will still have the option to run with the default values for 
				individual variables if you want to do so.</p>
				
				<p>If you do not want to modify any variable, input any other character and press enter. This will pop
				open a GUI where you will see a Menu. Click the "Run ABM Model" button from the Menu which will initiate the model.</p>
				
				<p>You will be able to see the animals in the environment interacting with each other and the environment. The sheep
				are the white ones, and the wolves are the black ones!</p>
				
				<p>In the cmd, a printout of the details of each iteration will be presented. The details will include the action 
				of each sheep, followed by the actions of each wolf! You will also see the time to process each iteration.<p>
				
				<p>The model will run until all sheep are eaten by the wolves or until the number of iterations have been completed.</p>
				
				<p>At the end of the model, you will be presented with the final number of sheep and wolves and their total store values and the total
				time it took to run the model for the specified number of iterations.</p>
			</section>
			
			<section>
				<h3>B.6 A bit about how I debugged the model</h3>
				<p>
				The first thing was to ensure random seed was enabled, and random shuffling of animals are commented out.
				Secondly, once you run the model, it will be clear to you that this presents with extensive details of the actions of each sheep and wolf.
				This allows me to easily debug the model by searching for keywords and ensure the model is working as intended. To aid with the
				debugging, I diverted the output from the console to a text file which allowed me to quick search for keywords using 
				Notepad++. Diverting the output also enabled me to compare output from an earlier stable version to the latest one, for example,
				when I was moving some of the functions to the <code>final_agent_framework.py</code> module from <code>final_model.py</code> to adopt a more
				object-oriented approach. Outputs were compared by both importing the outputs 
				in two lists and by comparing if the contents of the lists are the same using the Equality <code>==</code> operator and also by the cmd 
				file compare command: <code>fc /lb2</code>. The codes to divert are commented out in the final model because if these are active the model will not
				run from cmd. However, if you wish to enable and divert the output, please use an IDE such as Spyder, which will ensure you
				are presented with the prompts and run the model while diverting the output to the text file.
				</p>
				
			</section>
			
			<section>
				<h3>B.7 Knowen issue(s)</h3>
				<p>
				1. When the sheep are running away from the wolves in a north/north-east direction, the wolves chasing the sheep do not seem to be able to catch
				up with the sheep until the sheep reaches the edge of the environment (Fig 4). This is not observed when the sheep flee in other directions.</p>
				<figure>
				<img src="images/unable_to_catch.gif" alt="Wolves unable to catch the sheep when they flee in north-east direction" title="Wolves unable to catch the sheep!" />
				<figcaption>Fig 4: Wolves unable to catch the sheep!</figcaption>
				</figure>
				
				<p>
				2. The final statements such as (the final number of sheep and wolves and their total store values and the total time it took 
				to run the model for the specified number of iterations), do not appear until the GUI is closed. Moreover, the statements appear only when
				the code is run from Spyder and not in cmd.</p>
			</section>
			
			<section>
				<h3>B.8 License</h3>
				<p>
				This project is licensed under the <a rel="license" target="_blank" href="https://github.com/mushtahid/GEOG5995-Practicals/blob/master/LICENSE">GNU General Public License v3.0 or any later version 
				<i aria-hidden="true" class="fas fa-external-link-alt"></i></a>.
				</p>
			</section>
		</article>
	</main>
	
	<footer id="footer">
		<div style="float:left;">
			<p>
			<a href="https://twitter.com/mushtahidsalam"><i aria-hidden="true" class="fab fa-twitter"></i> twitter</a> | 
			<a href="https://github.com/mushtahid"><i aria-hidden="true" class="fab fa-github"></i> github</a> |
			<a href="https://www.linkedin.com/in/md-mushtahid-salam-894547118"><i aria-hidden="true" class="fab fa-linkedin"></i> linkedin</a>
			</p>
		</div>
		<div style="float:right;">
		<p>
		<a rel="nofollow" title="Validate the HTML & CSS via W3-Nu HTML Checker" target="_blank" 
		href="https://validator.w3.org/unicorn/check?ucn_uri=https://mushtahid.github.io/projects/uol/pss/abm.html&ucn_task=conformance#">
		validate html & css <i aria-hidden="true" class="fas fa-external-link-alt"></i></a> |
		<a title="Go back to top of the page" href="#container"> <i aria-hidden="true" class="fas fa-caret-square-up"></i> back to top</a>
		</p>
		</div>
		
		
		<div id="copyr">
		<p>
		<small>
		
		<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
		<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />
		Contents on this website, except where otherwise noted, is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
		Creative Commons Attribution-ShareAlike 4.0 International License</a>.
		
		</small>
		</p>
		</div>
	</footer>		
</div>
</body>
</html>
